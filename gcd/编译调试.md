### 仓库

https://github.com/swiftlang/swift-corelibs-libdispatch.git

### 环境

apt install ninja-build cmake linux-libc-dev libbsd-dev systemtap-sdt-dev clang

### 修改

cmake/modules/DispatchSanitization.cmake

```cmake
  if(CMAKE_BUILD_TYPE MATCHES "Debug")
    add_compile_options("-O1")    #   -O1改为-O0
```

build/CMakeFiles/3.22.1/CMakeCXXCompiler.cmake

```cmake
set(CMAKE_CXX_COMPILER "/usr/bin/clang++")
set(CMAKE_CXX_COMPILER_ARG1 "")   #   改成-E
```

### 编译

```shell
mkdir build
cd build
cmake -G Ninja -DCMAKE_C_COMPILER=clang -DCMAKE_CXX_COMPILER=clang++ -DCMAKE_BUILD_TYPE=debug ..
```

### 示例

- 代码

- 编译

### 调试
