### 法向量 (normal)

- 法向量：是指与该平面垂直的非零向量，记作 $\vec{n}$

* 对于 $ax+by+cz+d=0$ 的平面，则 $\vec{n}=(a,b,c)$ 为其一个法向量。

* 物体坐标系 $\rightarrow$ 相机坐标系

  $$
  \begin{bmatrix}
  n_{x_{eye}} \\ n_{y_{eye}} \\ n_{z_{eye}} \\ 1
  \end{bmatrix}
  =
  (M_{modelView}^{-1})^T
  \begin{bmatrix}
  n_{x_{obj}} \\ n_{y_{obj}} \\ n_{z_{obj}} \\ 1
  \end{bmatrix}
  $$

- http://www.songho.ca/opengl/gl_normaltransform.html

### 椭球

- 切平面：与椭球仅有一个公共点（该点称为切点）的平面

* 中心在$(x_c​,y_c​,z_c​)$ 的椭球：$\frac{(x-x_c)^2}{a^2} + \frac{(y-y_c)^2}{b^2} + \frac{(z-z_c)^2}{c^2} = 1$

* 对于给定切点$(x_0​,y_0​,z_0​)$的切平面，其法线为 $\vec{n} = \left( \frac{x_0-x_c}{a^2},\ \frac{y_0-y_c}{b^2},\ \frac{z_0-z_c}{c^2} \right)$

### Three

### Cesium

- 计算给定位置处与椭球面相切的平面的法线

```js
Ellipsoid.prototype.geodeticSurfaceNormal = function (cartesian, result) {
  if (!defined(result)) {
    result = new Cartesian3();
  }
  result = Cartesian3.multiplyComponents(
    cartesian,
    this._oneOverRadiiSquared,
    result,
  );
  return Cartesian3.normalize(result, result);
};
```
