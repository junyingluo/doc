### 朝向

- 指的是“一个物体朝向某个点，应该如何旋转”

- http://www.songho.ca/opengl/gl_lookattoaxes.html

  <img src="assets/2.3 朝向/gl_lookattoaxes01.png" width="40%" height="40%" />

### 原理

- 初始朝向的基向量为 $\begin{bmatrix}1 & 0 & 0 \\ 0 & 1 & 0 \\ 0 & 0 & 1 \end{bmatrix}$, 目标朝向的基向量为 $M_基$

* 点 P 经过旋转后变为 P'，则 P 和 P' 与旋转点的距离是不变的，则

  $$
  M_R
  \underbrace{
    \begin{bmatrix}
    1 & 0 & 0 \\
    0 & 1 & 0 \\
    0 & 0 & 1
    \end{bmatrix}
    \begin{bmatrix}
    1 \\ 1 \\ 1
    \end{bmatrix}
  }_{P}
  =
  \underbrace{
    M_基
    \begin{bmatrix}
    1 \\ 1 \\ 1
    \end{bmatrix}
  }_{P'}
  \Rightarrow
  M_R = M_基
  $$

### 求$M_R$

- z 方向的基向量 (forword)，即，“朝向点坐标”减去“物体坐标”，并归一化
- x 方向的基向量 (left)，利用 z 方向的单位向量和向上单位向量{0,1,0}的叉乘求得
- y 方向的基向量 (up)，利用 z 方向的单位向量和 x 方向的单位向量的叉乘求得

$$
M_R = M_基 =
\begin{bmatrix}
left_x & up_x & forword_x \\
left_y & up_y & forword_y \\
left_z & up_z & forword_z \\
\end{bmatrix}
$$