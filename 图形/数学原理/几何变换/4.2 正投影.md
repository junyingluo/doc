### 目标

- 将观察空间 $\{l \sim r,b \sim t,-n \sim -f\}$ 映射到设备空间 $\{-1 \sim 1,-1 \sim 1,-1 \sim 1\}$，其中
  $f> n > 0$

* 注意，我们推导出的“投影矩阵”，设定相机位于 $z$ 轴的 $0$ 点

<img src="assets/4.2 正投影/gl_projectionmatrix02.png" width="70%" height="70%" />

### 推导

- 正投影相对于透视投影，没有 $x_e$ 到 $x_p$ 这一步，直接 $x_e$ 到 $x_n$，因此比较简单

$$
\begin{bmatrix}
\dfrac{2}{r-l} & 0 & 0 & -\dfrac{r+l}{r-l} \\
0 & \dfrac{2}{t-b} & 0 & -\dfrac{t+b}{t-b} \\
0 & 0 & \dfrac{-2}{f-n} & -\dfrac{f+n}{f-n} \\
0 & 0 & 0 & 1
\end{bmatrix}
$$

- 如果 $r+l=0$ 且 $ t+b=0$，可以进一步简化

$$
\begin{bmatrix}
\dfrac{1}{r} & 0 & 0 & 0 \\
0 & \dfrac{1}{t} & 0 & 0 \\
0 & 0 & \dfrac{-2}{f-n} & -\dfrac{f+n}{f-n} \\
0 & 0 & 0 & 1
\end{bmatrix}
$$