### 绘制

- materials $\rightarrow$ textures $\rightarrow$ images/samplers

- 加载 image
  - URL.revokeObjectURL() 用于释放通过 URL.createObjectURL() 创建的临时 URL 资源，告诉浏览器可以清理这个 URL 与对应二进制数据（如 Blob/File）的关联，避免内存泄漏。

  ```js
  const imageBufferView = gltfData.bufferViews[bufferView];
  const imageData = bufferData.slice(
    imageBufferView.byteOffset,
    imageBufferView.byteOffset + imageBufferView.byteLength,
  );
  const blob = new Blob([imageData], { type: mimeType });
  const url = URL.createObjectURL(blob);
  const image = new Image();
  image.onload = function () {
    gl.bindTexture(gl.TEXTURE_2D, texture);
    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, image);
    URL.revokeObjectURL(url);
  };
  ```

### 材质

```json
{
  "materials": [
    {
      "pbrMetallicRoughness": {
        "metallicFactor": 0,
        "roughnessFactor": 0,
        "baseColorTexture": {
          "index": 0
        }
      },
      "extensions": {
        "KHR_materials_unlit": {
          "dummy": ""
        }
      }
    }
  ]
}
```

### 纹理（textures）

```json
{
  "textures": [
    {
      "source": 0, // 引用 images 数组的第 0 个
      "sampler": 0 // 引用 samplers 数组的第 0 个
    }
  ]
}
```

### images

```json
{
  "images": [
    {
      "bufferView": 3,
      "mimeType": "image/jpeg"
    }
  ]
}
```

### 采样器（samplers）

```json
{
  "samplers": [
    {
      "minFilter": 9987
    }
  ]
}
```

### pbrMetallicRoughness

- PBR 全称是 Physically Based Rendering（基于物理的渲染）
  - 金属度（metallicFactor），其中非金属为 0，金属为 1

  - 粗糙度（roughnessFactor），其中光滑为 0，粗糙为 1

  - 基础色纹理（baseColorTexture）

- KHR_materials_unlit 不需要考虑光照，直接从 baseColorTexture 取色即可

### normalTexture

### occlusionTexture

### emissiveTexture
