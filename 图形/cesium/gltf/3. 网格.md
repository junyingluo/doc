### 绘制

scene $\rightarrow$ scenes $\rightarrow$ nodes $\rightarrow$ meshes $\rightarrow$ accessors

### 场景（scenes）

```json
{
  "scene": 0,
  "scenes": [
    {
      "nodes": [0]
    }
  ]
}
```

### 节点（nodes）

```json
{
  "nodes": [
    {
      "mesh": 0
    }
  ]
}
```

### 网格（meshes）

- indices 表示采用 gl.drawElements

* mode
  | | | | |
  |-|-|-|-|
  | 0 | gl.POINTS | 点集 | 每个顶点作为一个点绘制 |
  | 1 | gl.LINES | 线段集 | 每 2 个顶点组成一条线段（不连接） |
  | 2 | gl.LINE_LOOP | 线环 | 所有顶点按顺序连成闭合环线 |
  | 3 | gl.LINE_STRIP | 线条带 | 所有顶点按顺序连成连续线条（不闭合） |
  | 4 | gl.TRIANGLES | 三角形集 | 每 3 个顶点 / 索引组成一个独立三角面（最常用）|
  | 5 | gl.TRIANGLE_STRIP | 三角形带 | 从第 3 个顶点开始，每新增 1 个顶点就和前 2 个组成一个三角面（节省索引）|
  | 6 | gl.TRIANGLE_FAN | 三角形扇 | 以第 1 个顶点为中心，后续每 2 个顶点和中心顶点组成一个三角面 |

```json
{
  "meshes": [
    {
      "primitives": [
        {
          "material": 0, // 材质索引
          "mode": 4,
          "attributes": {
            "POSITION": 0, // 位置数据访问器，accessors[0]
            "TEXCOORD_0": 1 // UV 坐标访问器，accessors[1]
          },
          "indices": 2 // 索引访问器，accessors[2]
        }
      ]
    }
  ]
}
```

### 访问器（accessors）

- componentType
  | | | | | |
  |-|-|-|-|-|
  | 5120 | int8 (BYTE) | 1 | -128 ~ 127 | 颜色通道、权重等小范围整数 |
  | 5121 | uint8 (UNSIGNED_BYTE) | 1 | 0 ~ 255 | 纹理坐标归一化、颜色值 |
  | 5122 | int16 (SHORT) | 2 | -32768 ~ 32767 | 顶点位置（低精度）、法线 |
  | 5123 | uint16 (UNSIGNED_SHORT) | 2 | 0 ~ 65535 | 索引数据（最常用）、骨骼索引 |
  | 5125 | uint32 (UNSIGNED_INT) | 4 | 0 ~ 4294967295 | 大数量索引、自定义整数数据 |
  | 5126 | float32 (FLOAT) | 4 | ±1.18×10⁻³⁸ ~ ±3.4×10³⁸ | 顶点位置、UV、法线（高精度） |

* type
  | | | | |
  |-|-|-|-|
  | SCALAR | 1 | 标量（单个值） | 索引数据、单个权重值、标量属性 |
  | VEC2 | 2 | 二维向量 | UV 坐标、二维位置、纹理偏移 |
  | VEC3 | 3 | 三维向量 | 顶点位置、法线、切线、颜色 RGB |
  | VEC4 | 4 | 四维向量 | 颜色 RGBA、骨骼权重、四元数 |
  | MAT2 | 4 | 2×2 矩阵（4 个 VEC2） | 2D 变换矩阵 |
  | MAT3 | 9 | 3×3 矩阵（9 个 VEC3） | 法线变换矩阵 |
  | MAT4 | 16 | 4×4 矩阵（16 个 VEC4） | 模型 / 视图 / 投影矩阵 |

```json
{
  "accessors": [
    {
      "bufferView": 0, // 引用第 0 个缓冲区视图
      "byteOffset": 0,
      "componentType": 5126,
      "count": 113,
      "type": "VEC3", // 三维向量（x,y,z）
      "min": [-119.0581207, -127.9613266, -71.77344513],
      "max": [118.8830109, 124.9238968, 74.49559021]
    },
    {
      "bufferView": 1,
      "byteOffset": 0,
      "componentType": 5126,
      "count": 113,
      "type": "VEC2"
    },
    {
      "bufferView": 2,
      "byteOffset": 0,
      "componentType": 5123,
      "count": 495,
      "type": "SCALAR"
    }
  ]
}
```
