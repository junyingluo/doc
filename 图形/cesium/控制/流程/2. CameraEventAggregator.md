#### CameraEventAggregator

- 事件聚合器
  - LEFT、RIGHT、MIDDLE、LEFT + SHIFT、RIGHT + ALT、MIDDLE + CTRL

* listenToPinch 用于平板，侦听双指捏的动作

* listenMouseButtonDownUp 监听鼠标按下或弹起，并保存到 eventStartPosition

```js
function CameraEventAggregator(canvas) {
  ......
  listenToWheel(this, undefined);
  listenToPinch(this, undefined, canvas);
  listenMouseButtonDownUp(this, undefined, CameraEventType.LEFT_DRAG);
  listenMouseButtonDownUp(this, undefined, CameraEventType.RIGHT_DRAG);
  listenMouseButtonDownUp(this, undefined, CameraEventType.MIDDLE_DRAG);
  listenMouseMove(this, undefined);

  for (const modifierName in KeyboardEventModifier) {
    if (KeyboardEventModifier.hasOwnProperty(modifierName)) {
      const modifier = KeyboardEventModifier[modifierName];
      if (defined(modifier)) {
        listenToWheel(this, modifier);
        listenToPinch(this, modifier, canvas);
        listenMouseButtonDownUp(this, modifier, CameraEventType.LEFT_DRAG);
        listenMouseButtonDownUp(this, modifier, CameraEventType.RIGHT_DRAG);
        listenMouseButtonDownUp(this, modifier, CameraEventType.MIDDLE_DRAG);
        listenMouseMove(this, modifier);
      }
    }
  }
}
```

### listenMouseButtonDownUp

- type 为 LEFT_DRAG、RIGHT_DRAG、RIGHT_DRAG
- eventStartPosition 保存鼠标按下的位置
- isDown 表示鼠标是否按下

### listenMouseMove

- movement 保存鼠标起始位置和结束位置
