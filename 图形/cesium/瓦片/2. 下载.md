### 请求下载

- 按优先级排序

```js
function requestTiles(tileset) {
  const requestedTiles = tileset._requestedTiles;
  requestedTiles.sort(sortTilesByPriority);
  for (let i = 0; i < requestedTiles.length; ++i) {
    requestContent(tileset, requestedTiles[i]);
  }
}
```

- 同步下载？

```js
function requestContent(tileset, tile) {
  if (tile.hasEmptyContent) {
    return;
  }

  const contentExpired = tile.contentExpired;

  const promise = tile.requestContent();
  if (!defined(promise)) {
    return;
  }

  promise
    .then((content) => {
      tileset._processingQueue.push(tile);
    })
    .catch((error) => {
      handleTileFailure(error, tileset, tile);
    });

  tileset._requestedTilesInFlight.push(tile);
}
Cesium3DTile.prototype.requestContent = function () {
  // empty contents don't require any HTTP requests
  if (this.hasEmptyContent) {
    return;
  }

  if (this.hasMultipleContents) {
    return requestMultipleContents(this);
  }

  return requestSingleContent(this);
};
```
